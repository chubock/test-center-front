<div class="container">
  <form class="form-horizontal col-sm-12 well well-lg" role="form" novalidate>
    <div class="form-group" [ngClass]="{'has-error' : (username.errors || !uniqueUsername) && username.touched, 'has-success' : !username.errors && uniqueUsername && username.touched}">
      <label for="username" class="col-sm-4 control-label">Username: </label>
      <div class="col-sm-8">
        <input #username="ngModel" name="username" (change)="checkUsername()" class="form-control" [(ngModel)]="user.username" required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"/>
        <span class="help-block" *ngIf="username.touched && username.errors && username.errors.required">Username can't be empty</span>
        <span class="help-block" *ngIf="username.touched && username.errors && username.errors.pattern">Username is not valid</span>
        <span class="help-block" *ngIf="username.touched && !uniqueUsername">Username must be unique</span>
      </div>
    </div>
  </form>
</div>
